<!DOCTYPE html>

<html>
<head>

	<meta name="description" content="Call measurement solutions powered by Century Interactive">
	<meta name="keywords" content="call measurement, call tracking, cms, GIT_variable_CM, pay-per-call, pay per call, marketing, marketing roi, marketing return on investment, advertising roi, advertising return on investment">
	<meta http-equiv="X-UA-Compatible" content="IE=9">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!--- Client side cache prevention --->
	<meta http-equiv="Expires" content="0">

	<!--- For when we are ready for a responsive mobile version --->
	 <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>

		<title></title>
		<!--- Favicon --->
		<link rel="icon" type="image/png" href="../../images/cw/favicon.png">
		<link rel="shortcut icon" href="../../images/cw/favicon.ico" type="image/x-icon">
		<link rel="icon" href="../../images/cw/favicon.ico" type="image/x-icon">


	<!-- Fonts -->
	<link href='//fonts.googleapis.com/css?family=Roboto:100,300,700,400' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript" src="../../platform_allies/js/disable-dragging.js"></script>
	<script type="text/javascript" src="../../platform_allies/js/jQueryRotateCompressed.js"></script>

</head>
<body>
<style>
	/* ----------------- */
	/* --- CSS RESET --- */
	/* ----------------- */
	html, body, div, span, applet, object, iframe,
	h1, h2, h3, h4, h5, h6, p, blockquote, pre,
	a, abbr, acronym, address, big, cite, code,
	del, dfn, em, img, ins, kbd, q, s, samp,
	small, strike, strong, sub, sup, tt, var,
	b, u, i, center,
	dl, dt, dd, ol, ul, li,
	fieldset, form, label, legend,
	table, caption, tbody, tfoot, thead, tr, th, td,
	article, aside, canvas, details, embed,
	figure, figcaption, footer, header, hgroup,
	menu, nav, output, ruby, section, summary,
	time, mark, audio, video {
		margin: 0;
		padding: 0;
		border: 0;
		font-size: 100%;
		font: inherit;
		vertical-align: baseline;
		outline: none;
	}
	/* HTML5 display-role reset for older browsers */
	article, aside, details, figcaption, figure,
	footer, header, hgroup, menu, nav, section {
		display: block;
	}
	body {
		line-height: 1;
	}
	ol, ul {
		list-style: none;
	}
	blockquote, q {
		quotes: none;
	}
	blockquote:before, blockquote:after,
	q:before, q:after {
		content: '';
		content: none;
	}
	table {
		border-collapse: separate;
		border-spacing: 0;
	}

	a {
		text-decoration: none;
	}

	/* ---------------- */
	/* --- MAIN CSS --- */
	/* ---------------- */
	body { background-color: #ededed; font-family: 'Roboto', sans-serif;}
	ul, li { list-style-type: none; }
	p { margin: 0px; }


	.header-section {
		display: block;
		position: relative;
		margin: 20px auto 0px auto;
		left: 0%; right: 0%;
		padding: 10px 0px;
		max-width: 940px;
	}
	.header-section h1 {
		font-size: 36px; font-weight: 200; color: #a0a0a0;
		margin: 0px; padding: 0px;
	}
	.list-holder {
		display: block;
		position: relative;
		margin: 0px auto 30px auto;
		left: 0%; right: 0%;
		padding: 20px;
		max-width: 900px;
		background-color: #ffffff;
		margin-top:50px;
	}
	.staff2-list {
		display: block;
		position: relative;
		margin: 0px;
		padding: 0px !important;
	}
	.staff2-list-labels-row {
		font-size: 12px;
		line-height: 16px;
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		padding-bottom: 8px;
	}
	.list-block {
		font-size: inherit;
		line-height: inherit;
		color: inherit;
		display: inline-block;
		vertical-align: middle;
		text-align: center;
		padding: 0px;
	}

	.column-1 {
		text-align: left !important; width: 27%;
	}
	.adsource-row .column-1 {
		text-align: left !important; width: 31%;
	}
	.column-2, .column-3, .column-4 {
		text-align: right !important; width: 23%;
	}

	.list-label {
		display: inline-block;
		vertical-align: middle;
		text-align: left;
		padding-left: 6px;
	}
	.list-label img {
		display: inline-block;
		vertical-align: middle;
		background-color: #a7a7a7;
	}
	.list-label p {
		display: inline-block;
		vertical-align: middle;
		padding-left: 3px;
		color: #a7a7a7;
	}
	.staff2-list-labels-row div:hover {
		cursor: pointer;
	}
	.staff2-list-labels-row div:hover a img {
		background-color: #007def;
	}
	.staff2-list-labels-row div:hover a p {
		color: #007def;
	}
	.staff2-list-row {
		display: block;
		position: relative;
		margin: 0px;
		padding: 0px;
		font-size: 16px;
		color: #a7a7a7;
		/*outline: solid 1px #f0f0f0;*/
	}
	.staff2-list-row:nth-child(even){
		background-color: #f0f0f0;
	}
	.agent-img { display: block; padding-right: 8px; overflow: hidden; }
	.agent-img img, .agent-img p {
		display: inline-block;
		vertical-align: middle;
	}
	.lename {
		color: #535353;
		font-size: 14px;
		line-height: 30px;
		text-transform: capitalize;
		white-space:nowrap;
		text-overflow: ellipsis;
		overflow: hidden;
	}
	.lename2 {
		font-size: 14px;
		line-height: 30px;
	}
	.agent-photo {
		display: inline-block;
		vertical-align: middle;
		position: relative;
		margin: 0px;
		margin-right: 10px;
		padding: 0px;
		width: 16px;
		height: 16px;
		-moz-border-radius: 50%;
		-webkit-border-radius: 50%;
		border-radius: 50%;
		overflow: hidden;
	}
	.agent-photo img {
		display: block;
		width: 100%;
	}
	.data-cell {
		text-align: center;
		color: #535353;
	}
	.data-cell span {
		display: block;
		padding-right: 8px;
		font-size: 12px;
		font-weight: 400;
		line-height: 30px;
		text-decoration: none;
	}
	.data-cell a {
		display: block;
		padding-right: 8px;
		color: #007def;
		font-size: 12px;
		font-weight: 400;
		line-height: 30px;
		text-decoration: none;
	}
	.data-cell a:hover {
		text-decoration: underline;
	}
	.column-1 .lename, .column-2 a, .column-3 a, .column-4 a, .column-1 .lename2  {
		border-right: solid #cacaca 1px;
		border-top: solid #cacaca 1px;
	}
	.column-1 .lename {  }
	.column-1 .lename2 { border-left: solid #cacaca 1px; padding-left: 40px; }
	{ padding-right: 8px; }
	.staff2-list-labels-row a, .staff2-list-labels-row span { border: solid 0px #ffffff !important; }
	.staff2-list-row:last-child { border-bottom: solid #cacaca 1px; }

	.car-wars-sales-note {
		font-size: 12px; color: #666; margin-bottom: 15px; text-align: right;
	}

	.mobile-back-button {
		display: none;
	}

	@media screen and (max-width: 400px), screen and (max-device-width: 400px) {
	.staff-list-row .column-1, .staff-list-labels-row .column-1 {
		display: block;
		text-align: center !important;
		width: 100%;
	}
	.staff-list-labbels-row .column-1 {
		margin-bottom: 10px;
	}
	.staff-list-row .column-2,.staff-list-row .column-3,.staff-list-row .column-4,.staff-list-row .column-5,
	.staff-list-labels-row .column-2,.staff-list-labels-row .column-3,.staff-list-labels-row .column-4,.staff-list-labels-row .column-5 {
	width: 25%;
	}
	.bottom-menu { padding-top: 10px; }
	.staff-list-row {
		border-bottom: 1px solid #ccc;
		margin: 10px 0px;
	}
	.staff-list-row .column-2 {
		width: 24.5%;
		border-left: 1px solid #ccc;
	}
	.mobile-back-button {
		display: block;
		padding: 10px;
		margin: 5px 0px 0px 5px;
		border-radius: 3px;
	}
}

.column-5 {
	width: 4%;
    text-align: center;
	font-size: 14px;
	line-height: 30px;
	border-top: solid #cacaca 1px;
	border-left: solid #cacaca 1px;
	box-sizing: border-box;
}
.column-5 i {
	color:#c7c4c4;
	transition:all ease-in-out .3s;
}

.adsource-row {
	display:none;
}
	</style>
	<cfinclude template='wsc_tracking_report_queries.cfm'>
	<cftry>
	<div class="list-holder">
		<ul class="staff2-list">
			<li class="staff2-list-labels-row">
				<div class="list-block column-1" style="background-color: rgba(0,0,0,0);">
					<a class="list-label" href="" onclick="return false;">
						<p class="staff2-label-1">Campaign</p><img src="../../images/redux/performance-report-cw/wct-down-arrow.png"/>
					</a>
				</div><div class="list-block column-2" style="background-color: rgba(0,0,0,0);">
					<a class="list-label" href="" onclick="return false;">
						<p class="staff2-label-2">Calls</p><img src="../../images/redux/performance-report-cw/wct-down-arrow.png"/>
					</a>
				</div><div class="list-block column-3" style="background-color: rgba(0,0,0,0);">
					<a class="list-label" href="" onclick="return false;">
						<p class="staff2-label-3">Sales Opportunities</p><img src="../../images/redux/performance-report-cw/wct-down-arrow.png"/>
					</a>
				</div><div class="list-block column-4" style="background-color: rgba(0,0,0,0);">
					<a class="list-label" href="" onclick="return false;">
						<p class="staff2-label-4">Booked Appointments</p><img src="../../images/redux/performance-report-cw/wct-down-arrow.png"/>
					</a>
				</div>
			</li>
				<cfoutput query='pull_campaigns'>

						<!-- Connected Calls -->
							<cfset outURLConnected="../cx/clickthrough.cfm?">
							<cfset outURLConnected=outURLConnected&'this_start='&#URLEncodedFormat(this_start)#>
							<cfset outURLConnected=outURLConnected&'&this_end='&#URLEncodedFormat(this_end)#>
							<cfset outURLConnected=outURLConnected&'&WSC_dpid='&#URLEncodedFormat(siteID)#>
							<cfset outURLConnected=outURLConnected&'&WSC_campaign='&#URLEncodedFormat(AdWords_Campaign)#>
						<!-- Sales Opps -->
							<cfset outURLSales="../cx/clickthrough.cfm?">
							<cfset outURLSales=outURLSales&'this_start='&#URLEncodedFormat(this_start)#>
							<cfset outURLSales=outURLSales&'&this_end='&#URLEncodedFormat(this_end)#>
							<cfset outURLSales=outURLSales&'&WSC_dpid='&#URLEncodedFormat(siteID)#>
							<cfset outURLSales=outURLSales&'&WSC_hco='&#URLEncodedFormat(sales_opp_hco)#>
							<cfset outURLSales=outURLSales&'&WSC_campaign='&#URLEncodedFormat(AdWords_Campaign)#>

						<!-- Appt Requests -->
							<cfset outURLBooked="../cx/clickthrough.cfm?">
							<cfset outURLBooked=outURLBooked&'this_start='&#URLEncodedFormat(this_start)#>
							<cfset outURLBooked=outURLBooked&'&this_end='&#URLEncodedFormat(this_end)#>
							<cfset outURLBooked=outURLBooked&'&WSC_dpid='&#URLEncodedFormat(siteID)#>
							<cfset outURLBooked=outURLBooked&'&WSC_hco='&#URLEncodedFormat(booked_appt_hco)#>
							<cfset outURLBooked=outURLBooked&'&WSC_campaign='&#URLEncodedFormat(AdWords_Campaign)#>
				
				
					<li class="staff2-list-row">
						<div class="list-block column-5 data-cell">
							<i class="fa fa-chevron-right"></i>&nbsp;
						</div><div class="list-block column-1">
							<p class="lename">#AdWords_Campaign#</p>
						</div><div class="list-block column-2 data-cell">
							<a href="../thinking.cfm?redirect=#URLEncodedFormat(outURLConnected)#">#Total_Calls#</a>
						</div><div class="list-block column-3 data-cell">
							<a href="../thinking.cfm?redirect=#URLEncodedFormat(outURLSales)#">#Sales_Opps#</a>
						</div><div class="list-block column-4 data-cell">
							<a href="../thinking.cfm?redirect=#URLEncodedFormat(outURLBooked)#">#Booked_Appt#</a>
						</div>
						<cfif Adword_groups NEQ '' AND Adword_groups GT 1>
							<cfquery name='pull_groups' datasource='#application.ds#'>
								SELECT
									ISNULL(a.Ad_Group_Name,'Unnamed Group') as 'Adword_groups',
									COUNT(distinct c.GIT_ID_for_call) as Total_Calls,
									COUNT(distinct case when GIT_frn_id_of_humanatic_call_review_question in (#sales_opp_hco#) then c.GIT_ID_for_call else null end) AS Sales_Opps,
									COUNT(distinct case when GIT_frn_id_of_humanatic_call_review_question in (#booked_appt_hco#) then c.GIT_ID_for_call else null end) AS Booked_Appt
								FROM #theTable# c
									FROM GIT_table_that_holds_numbers d ON c.cf_frn_GIT_PhNumid = d.GIT_PhNumid and add_FROM GIT_account = <cfqueryparam value="#session.GIT_variable_CM_lskin#" CFSQLType="CF_SQL_INTEGER">
									FROM GIT_table_that_holds_accounts l on d.add_FROM GIT_account = l.FROM GIT_account
									INNER JOIN #archive#adwords_call_#dpdtable.category# a ON a.frn_GIT_ID_for_call = c.GIT_ID_for_call
									LEFT JOIN #theTable#_hcat ch on ch.frn_GIT_ID_for_call = c.GIT_ID_for_call
									FROM GIT_table_that_holds_groups_of_rotating_numbers xdp on d.poolmaster = xdp.GIT_PhNumpoolid
								WHERE
									c.GIT_the_date >= #createodbcdate(this_start)#
									AND c.GIT_the_date < #createodbcdate(this_end)#
									AND poolmaster = #siteID#
								   AND a.campaign_name = '#AdWords_Campaign#'
									AND c.spamrating = 0
								GROUP BY a.Ad_Group_Name
								ORDER BY count(distinct c.GIT_ID_for_call) desc
							</cfquery>


							<cfloop query='pull_groups'>
								<cfset outURLBooked=outURLBooked&'&WSC_campaign_and_Adword='&#URLEncodedFormat(Adword_groups)#>

								<div class="adsource-row">
									<div class="adsource-container">
										<!--- <div class="list-block column-5 data-cell">
										</div> ---><div class="list-block column-1">
											<p class="lename2">#Adword_groups#</p>
										</div><div class="list-block column-2 data-cell">
											<a href="../thinking.cfm?redirect=#URLEncodedFormat(outURLConnected)#">#Total_Calls#</a>
										</div><div class="list-block column-3 data-cell">
											<a href="../thinking.cfm?redirect=#URLEncodedFormat(Sales_Opps)#">#Sales_Opps#</a>
										</div><div class="list-block column-4 data-cell">
											<a href="../thinking.cfm?redirect=#URLEncodedFormat(Booked_Appt)#">#Booked_Appt#</a>
										</div>
									</div>
								</div>
							</cfloop>
						</cfif>
					</li>
				</cfoutput>
		</ul>
	</div>

	<script>
/* ------------------------------ */
/* --- STAFF2 SORTING / PAGING --- */
/* ------------------------------ */
$(document).ready(function(){

	// --- remove chevrons where there is no adgroups to expand and show
	removeChevrons();
	// --- click function to handle the expansion of the rows
	$('.staff2-list-row').click(function() {
		var adsourceRow = $(this).children('.adsource-row').css("display");
		if (adsourceRow == 'none') {
			$(this).children('.column-5').children('.fa-chevron-right').css("transform", "rotate(90deg)");
			$(this).children('.adsource-row').slideDown();
		}
		else if (adsourceRow == 'block') {
			$(this).children('.column-5').children('.fa-chevron-right').css("transform", "rotate(0deg)");
			$(this).children('.adsource-row').slideUp();
		}
	});

	//down arrow
	$('.staff2-list-row .column-5').each(function() {
		var adgroupsExist = $(this).siblings('.adsource-row').length;
		if(adgroupsExist == 0) {
			$(this).children('.fa-chevron-right').css("visibility","hidden");
			console.log('hidden');
		} else {
			$(this).children('.fa-chevron-right').css("visibility","visible");
			console.log('visible');
		}
	});


	var toggle2 = [0,0,0,0,0];
	var pageItems2 = $('.staff2-list-row').length;
	var totalItems2 = $('.staff2-list-row').length;
	var pageMin2 = 1;
	var pageMax2 = pageItems2+1;
	var pageMaxLabel2 = pageMax2 - 1;
	$('.list2-prev-btn').css("visibility","hidden");
	$('.staff2-list-labels-row').children('div').click(function(){
		// --- column 1 ---
		if($(this).hasClass("column-1")){
			var column1 = [];
			$('.staff2-list-row').each(function(){
				var staffValue = $(this).children('.column-1').text().trim().toLowerCase();
				column1.push(staffValue);
			});
			if(toggle2[0] == 0){
				$(this).find(".list-label").children('img').rotate(0);
				column1.sort();
				toggle2[0] = 1;
			}
			else if(toggle2[0] == 1 ){
				$(this).find(".list-label").children('img').rotate(180);
				column1.sort();
				column1.reverse();
				toggle2[0] = 0;
			}
			// --- rearrange list items
			$('.staff2-list-row').css("display","none");
			for (var i = 0; i < column1.length; i++) {
				var name = column1[i];
				$('.staff2-list-row').each(function(){
					var lename = $(this).find('.lename').text().trim().toLowerCase();
					if(lename == name){
						$(this).detach().appendTo('.staff2-list').css("display","block");
					}
				});
			}
			$('.staff2-list-row').each(function(i){
				if(i >= pageItems2){
					$(this).css("display","none");
				}
				i++;
			});
			// --- reset paging
			pageMin2 = 1;
			pageMax2 = pageItems2+1;
			pageMaxLabel2 = pageMax2 - 1;
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","visible");
			$('.list2-prev-btn').css("visibility","hidden");
			if(totalItems2 < pageMax2){
				$('.list2-next-btn').css("visibility","hidden");
				$('.list2-prev-btn').css("visibility","hidden");
				pageMaxLabel2 = totalItems2
				$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			}
			// --- color tabs
			$(this).children('a').children('img').addClass('active-tab-img');
			$(this).siblings('.list-block').children('a').children('img').removeClass('active-tab-img');
			$(this).children('a').children('p').addClass('active-tab-p');
			$(this).siblings('.list-block').children('a').children('p').removeClass('active-tab-p');
		}
		// --- column 2 ---
		if($(this).hasClass("column-2")){
			var column2 = [];
			$('.staff2-list-row').each(function(){
				var staffValue = parseInt(($(this).children('.column-2').text().trim()),10);
				column2.push(staffValue);
			});
			if(toggle2[1] == 0){
				$(this).find(".list-label").children('img').rotate(180);
				column2.sort(function(a, b){return a-b});
				toggle2[1] = 1;
			}
			else if(toggle2[1] == 1 ){
				$(this).find(".list-label").children('img').rotate(0);
				column2.sort(function(a, b){return b-a});
				toggle2[1] = 0;
			}
			// --- rearrange list items
			$('.staff2-list-row').css("display","none");
			for (var i = 0; i < column2.length; i++) {
				var sortedNumber = column2[i];
				$('.staff2-list-row').each(function(){
					var thisNumber = parseInt(($(this).children('.column-2').text().trim()),10);
					if(thisNumber == sortedNumber) {
						$(this).detach().appendTo('.staff2-list').css("display","block");
					}
				});
			}
			$('.staff2-list-row').each(function(i){
				if(i >= pageItems2){
					$(this).css("display","none");
				}
				i++;
			});
			// --- reset paging
			pageMin2 = 1;
			pageMax2 = pageItems2+1;
			pageMaxLabel2 = pageMax2 - 1;
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","visible");
			$('.list2-prev-btn').css("visibility","hidden");
			if(totalItems2 < pageMax2){
				$('.list2-next-btn').css("visibility","hidden");
				$('.list2-prev-btn').css("visibility","hidden");
				pageMaxLabel2 = totalItems2
				$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			}
			// --- color tabs
			$(this).children('a').children('img').addClass('active-tab-img');
			$(this).siblings('.list-block').children('a').children('img').removeClass('active-tab-img');
			$(this).children('a').children('p').addClass('active-tab-p');
			$(this).siblings('.list-block').children('a').children('p').removeClass('active-tab-p');
		}
		// --- column 3 ---
		if($(this).hasClass("column-3")){
			var column3 = [];
			$('.staff2-list-row').each(function(){
				var staffValue = $(this).children('.column-3').text().trim();
				staffValue = staffValue.split(" ");
				staffValue = parseInt((staffValue[0]),10);
				column3.push(staffValue);
			});
			if(toggle2[2] == 0){
				$(this).find(".list-label").children('img').rotate(180);
				column3.sort(function(a, b){return a-b});
				toggle2[2] = 1;
			}
			else if(toggle2[2] == 1 ){
				$(this).find(".list-label").children('img').rotate(0);
				column3.sort(function(a, b){return b-a});
				toggle2[2] = 0;
			}
			// --- rearrange list items
			$('.staff2-list-row').css("display","none");
			for (var i = 0; i < column3.length; i++) {
				var sortedNumber = column3[i];
				$('.staff2-list-row').each(function(){
					var thisNumber = $(this).children('.column-3').text().trim();
					thisNumber = thisNumber.split(" ");
					thisNumber = parseInt((thisNumber[0]),10);
					if(thisNumber == sortedNumber) {
						$(this).detach().appendTo('.staff2-list').css("display","block");
					}
				});
			}
			$('.staff2-list-row').each(function(i){
				if(i >= pageItems2){
					$(this).css("display","none");
				}
				i++;
			});
			// --- reset paging
			pageMin2 = 1;
			pageMax2 = pageItems2+1;
			pageMaxLabel2 = pageMax2 - 1;
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","visible");
			$('.list2-prev-btn').css("visibility","hidden");
			if(totalItems2 < pageMax2){
				$('.list2-next-btn').css("visibility","hidden");
				$('.list2-prev-btn').css("visibility","hidden");
				pageMaxLabel2 = totalItems2
				$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			}
			// --- color tabs
			$(this).children('a').children('img').addClass('active-tab-img');
			$(this).siblings('.list-block').children('a').children('img').removeClass('active-tab-img');
			$(this).children('a').children('p').addClass('active-tab-p');
			$(this).siblings('.list-block').children('a').children('p').removeClass('active-tab-p');
		}
		// --- column 4 ---
		if($(this).hasClass("column-4")){
			var column4 = [];
			$('.staff2-list-row').each(function(){
				var staffValue = parseInt(($(this).children('.column-4').text().trim()),10);
				column4.push(staffValue);
			});
			if(toggle2[3] == 0){
				$(this).find(".list-label").children('img').rotate(180);
				column4.sort(function(a, b){return a-b});
				toggle2[3] = 1;
			}
			else if(toggle2[3] == 1 ){
				$(this).find(".list-label").children('img').rotate(0);
				column4.sort(function(a, b){return b-a});
				toggle2[3] = 0;
			}
			// --- rearrange list items
			$('.staff2-list-row').css("display","none");
			for (var i = 0; i < column4.length; i++) {
				var sortedNumber = column4[i];
				$('.staff2-list-row').each(function(){
					var thisNumber = parseInt(($(this).children('.column-4').text().trim()),10);
					if(thisNumber == sortedNumber) {
						$(this).detach().appendTo('.staff2-list').css("display","block");
					}
				});
			}
			$('.staff2-list-row').each(function(i){
				if(i >= pageItems2){
					$(this).css("display","none");
				}
				i++;
			});
			// --- reset paging
			pageMin2 = 1;
			pageMax2 = pageItems2+1;
			pageMaxLabel2 = pageMax2 - 1;
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","visible");
			$('.list2-prev-btn').css("visibility","hidden");
			if(totalItems2 < pageMax2){
				$('.list2-next-btn').css("visibility","hidden");
				$('.list2-prev-btn').css("visibility","hidden");
				pageMaxLabel2 = totalItems2
				$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			}
			// --- color tabs
			$(this).children('a').children('img').addClass('active-tab-img');
			$(this).siblings('.list-block').children('a').children('img').removeClass('active-tab-img');
			$(this).children('a').children('p').addClass('active-tab-p');
			$(this).siblings('.list-block').children('a').children('p').removeClass('active-tab-p');
		}
	});

	// --- PAGING ---
	$('.staff2-list-row').css("display","none");
	$('.staff2-list-row').each(function(i){
		var pageNumber2 = (i/pageItems2)+1;
		pageNumber2 = Math.floor(pageNumber2);
		if(pageNumber2 <= 1){
			$(this).css("display","block");
		}
		i++;
	});
	if(totalItems2 < pageMax2){
		$('.list2-next-btn').css("visibility","hidden");
		$('.list2-prev-btn').css("visibility","hidden");
		pageMaxLabel2 = totalItems2
	}
	$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);

	// --- next page
	$('.list2-next-btn').click(function(){
		pageMin2 = pageMin2 + pageItems2;
		pageMax2 = pageMax2 + pageItems2;
		pageMaxLabel2 = pageMax2 - 1;
		$('.staff2-list-row').css("display","none");
		$('.staff2-list-row').each(function(){
			var index = $(this).index();
			if(index >= pageMin2 && index < pageMax2){
				$(this).css("display","block");
			}
		});
		$('.list2-prev-btn').css("visibility","visible");
		if(pageMaxLabel2 <= totalItems2){
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-prev-btn').css("visibility","visible");
			if(pageMaxLabel2 == totalItems2){
				$('.list2-next-btn').css("visibility","hidden");
			}
		}
		else {
			$('.staff2-list-page').text("").text(pageMin2 + " - " + totalItems2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","hidden");
		}
	});

	// --- prev page
	$('.list2-prev-btn').click(function(){
		pageMin2 = pageMin2 - pageItems2;
		pageMax2 = pageMax2 - pageItems2;
		pageMaxLabel2 = pageMax2 - 1;
		$('.staff2-list-row').css("display","none");
		$('.staff2-list-row').each(function(){
			var index = $(this).index();
			if(index >= pageMin2 && index < pageMax2){
				$(this).css("display","block");
			}
		});
		if(pageMin2 >= 1){
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-next-btn').css("visibility","visible");
			if(pageMin2 == 1) {
				$('.list2-prev-btn').css("visibility","hidden");
			}
		}
		else {
			$('.staff2-list-page').text("").text(pageMin2 + " - " + pageMaxLabel2 + " of " + totalItems2);
			$('.list2-prev-btn').css("visibility","hidden");
		}
	});

});

function removeChevrons() {
	$('.staff2-list-row .column-5').each(function() {
		var adgroupsExist = $(this).next('.adsource-row').length;
		if(adgroupsExist == 0) {
			$(this).children('.fa-chevron-right').css("visibility","visible");
			$(this).children('.fa-chevron-right').css("visibility","hidden");
		}
	});
}
	</script>
	<cfcatch>
		<cfdump var='#cfcatch#'>
	</cfcatch>
	</cftry>
		</body>
</html>